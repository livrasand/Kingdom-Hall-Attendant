<!DOCTYPE html>
<html data-color-mode="light" data-light-theme="light">
   <head>
      <title>Kingdom Hall Attendant</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link href="{{ url_for('static', filename='primer.css') }}" rel="stylesheet" />
      <link href="{{ url_for('static', filename='jw-icons.css') }}" rel="stylesheet" />
      <link href="{{ url_for('static', filename='loading-splash.css') }}" rel="stylesheet" />
      <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
   </head>
   <body>
   <div id="loading-screen">
    <div id="loading-spinner"></div>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <h3>Extrayendo datos de WOL (Watchtower Online Library)</h3>
</div>

<div id="saving-screen">
    <div id="loading-spinner"></div>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <h3>Guardando...</h3>
</div>

      <div class="Header color-bg-inset">
         <!-- Image item  -->
         <div class="Header-item width-full">
            <a onclick="history.back()" style="cursor: pointer;" class="mr-2 ml-n2">
               <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                  <path d="M15.28 5.22a.75.75 0 0 1 0 1.06L9.56 12l5.72 5.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-6.25-6.25a.75.75 0 0 1 0-1.06l6.25-6.25a.75.75 0 0 1 1.06 0Z"></path>
               </svg>
            </a>
            <a href="/home" style="cursor: pointer;" class="mr-3">
               <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 24" width="24" height="24"><path d="M11.03 2.59a1.501 1.501 0 0 1 1.94 0l7.5 6.363a1.5 1.5 0 0 1 .53 1.144V19.5a1.5 1.5 0 0 1-1.5 1.5h-5.75a.75.75 0 0 1-.75-.75V14h-2v6.25a.75.75 0 0 1-.75.75H4.5A1.5 1.5 0 0 1 3 19.5v-9.403c0-.44.194-.859.53-1.144ZM12 3.734l-7.5 6.363V19.5h5v-6.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v6.25h5v-9.403Z"></path></svg>
            </a>
            <img class="avatar CircleBadge" height="100" alt="@octocat" src="https://github.com/octocat.png" width="100">
            <div class="d-table col-12">
               {% include 'user_info.html' %}
            </div>
         </div>
      </div>
      <div class="container-xl mt-6">
         <div class="container-xl">
            <div class="container-lg clearfix">
               <div class="col-12 float-left p-4 mt-n4">
                  <form action="/guardar_vida_ministerio" method="POST">
                    <input type="hidden" name="week_info" value="{{ week_info }}">

                     <input type="hidden" name="id" id="id" value="" style="display: none;">

                     <div class="text-center"> 
        <nav class="paginate-container"> 
            <div class="pagination"> 
                <a class="previous_page" href="{{ url_previous }}"> 
                     Anterior
                </a> 
                <a href="/nuevo-vida-ministerio" style="text-decoration: none;border: none;"><em aria-current="Page1"> Esta semana </em></a> 
                <a class="next_page" href="{{ url_next }}" > 
                    Próxima 
                </a> 
            </div> 
        </nav> 
    </div> 
                     <div class="color-fg-on-emphasis p-2 rounded mb-4" style="background-color: #0969da; color: #ffffff;">{{ week_info }}</div>

                 <label class="" for="presidente">Presidente:</label>
   <select class="form-select mb-2 width-full" id="presidente" name="presidente">
       <option value="">Seleccione un presidente</option>
       {% for presidente in presidentes %}
           <option value="{{ presidente }}">{{ presidente }}</option>
       {% endfor %}
   </select>

<label class="" htmlFor="name">Oración de inicio:</label>
<select class="form-select mb-2 width-full" aria-label="" id="oracion_inicio" name="oracion_inicio">
        <option value="">Selecciona un publicador</option>
        {% for orador in oradores %}
        <option value="{{ orador }}">{{ orador }}</option>
    {% endfor %}
</select>

{% set show_label_and_select = False %}
{% set show_second_label_and_select = False %}
{% for h2, h3_list in data.items() %}
    {% set bg_color = '' %}
    {% set text_color = '#ffffff' %}
    {% if h2 == 'TESOROS DE LA BIBLIA' %}
        {% set bg_color = '#3c7f8b' %}
        {% set show_label_and_select = True %}
    {% elif h2 == 'SEAMOS MEJORES MAESTROS' %}
        {% set bg_color = '#d68f00' %}
        {% set show_label_and_select = True %}
        {% set show_second_label_and_select = True %}
    {% elif h2 == 'NUESTRA VIDA CRISTIANA' %}
        {% set bg_color = '#bf2f13' %}
        {% set show_label_and_select = True %}
        {% set show_second_label_and_select = False %}
    {% else %}
        {% set show_label_and_select = False %}
        {% set show_second_label_and_select = False %}
    {% endif %}
    <div class="color-fg-on-emphasis p-2 rounded mt-4 mb-4" style="background-color: {{ bg_color }}; color: {{ text_color }};">{{ h2 }}</div>
    <ul>
        {% for h3 in h3_list %}
            {% if 'Artículo de estudio' not in h3 %}
                {% if 'Otros artículos' not in h3 %}
                    {% if 'Canción' not in h3 %}
                        <p>{{ h3 }}</p>
                        {% if 'Estudio bíblico de la congregación' in h3 %}
                            <label for="conductor_{{ h3 }}"><strong>Conductor:</strong></label>
                    <select class="form-select mb-2" id="conductor_{{ h3 }}" name="conductor_{{ h3 }}">
                        <option value="">Seleccione un conductor</option>
                        {% for conductor in conductores %}
                            <option value="{{ conductor[0] }} {{ conductor[1] }}">{{ conductor[0] }} {{ conductor[1] }}</option>
                        {% endfor %}
                    </select>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <label for="lector_{{ h3 }}"><strong>Lector:</strong></label>
                    <select class="form-select mb-2" id="lector_{{ h3 }}" name="lector_{{ h3 }}">
                        <option value="">Seleccione un lector</option>
                        {% for lector in lectores %}
                            <option value="{{ lector[0] }} {{ lector[1] }}">{{ lector[0] }} {{ lector[1] }}</option>
                        {% endfor %}
                    </select>
                        {% elif 'Discurso' in h3 %}
                            <label class="" htmlFor="name"><strong>Publicador:</strong></label>
                            <select class="form-select mb-2" aria-label="" id="oracion_final" name="oracion_final">
                                <option value="">Seleccione un publicador</option>
                                {% for discursante in discursantes %}
                                <option value="{{ discursante[0] }} {{ discursante[1] }}">{{ discursante[0] }} {{ discursante[1] }}</option>
                                {% endfor %}
                            </select>
                        {% elif show_label_and_select %}
                            <label for="publicador_{{ h3 }}">Publicador:</label>
                    <select class="form-select mb-2" id="publicador_{{ h3 }}" name="publicador_{{ h3 }}">
                        <option value="">Seleccione un publicador</option>
                        {% for publicador in publicadores %}
                            <option value="{{ publicador[0] }} {{ publicador[1] }}">{{ publicador[0] }} {{ publicador[1] }}</option>
                        {% endfor %}
                    </select>
                            {% set show_label_and_select = False %}
                            {% if show_second_label_and_select %}
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                <label for="ayudante_{{ h3 }}">Ayudante:</label>
                    <select class="form-select mb-2" id="ayudante_{{ h3 }}" name="ayudante_{{ h3 }}">
                        <option value="">Seleccione un ayudante</option>
                        {% for publicador in publicadores %}
                            <option value="{{ publicador[0] }} {{ publicador[1] }}">{{ publicador[0] }} {{ publicador[1] }}</option>
                        {% endfor %}
                    </select>
                                {% set show_second_label_and_select = False %}
                            {% endif %}
                        {% endif %}
                    {% endif %}
                {% endif %}
            {% endif %}
        {% endfor %}
    </ul>
{% endfor %}



<label class="" htmlFor="name">Oración final:</label>
<select class="form-select mb-2 width-full" aria-label="" id="oracion_final" name="oracion_final">
        <option value="">Selecciona un publicador</option>
        {% for orador in oradores %}
        <option value="{{ orador }}">{{ orador }}</option>
    {% endfor %}
</select>
                    <br><br>
                     <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Guardar</button>
                     </div>
                  </form>
               </div>
            </div>
         </div>
      </div>
      <script>
         document.addEventListener("DOMContentLoaded", function(event) {
    // Mostrar el splash screen de carga al cargar la página
    document.getElementById("loading-screen").style.display = "flex";

    // Agregar evento de clic al botón "Próxima"
    document.querySelector(".next_page").addEventListener("click", function(event) {
        // Mostrar el splash screen de carga al hacer clic en el botón
        document.getElementById("loading-screen").style.display = "flex";
    });
    // Agregar evento de clic al botón "Anterior"
    document.querySelector(".previous_page").addEventListener("click", function(event) {
        // Mostrar el splash screen de carga al hacer clic en el botón
        document.getElementById("loading-screen").style.display = "flex";
    });
    // Agregar evento de clic al botón "Esta semana"
    document.querySelector("a[href='/nuevo-vida-ministerio']").addEventListener("click", function(event) {
        // Mostrar el splash screen de carga al hacer clic en el botón
        document.getElementById("loading-screen").style.display = "flex";
    });

    // Agregar evento de clic al botón "Guardar"
    document.querySelector("button[type='submit']").addEventListener("click", function(event) {
        // Mostrar el splash screen de carga al hacer clic en el botón
        document.getElementById("saving-screen").style.display = "flex";
    });
});

// Ocultar el splash screen de carga cuando la página haya terminado de cargar
window.addEventListener("load", function(event) {
    document.getElementById("loading-screen").style.display = "none";
});

// Ocultar el splash screen de carga cuando la página haya terminado de cargar
window.addEventListener("load", function(event) {
    document.getElementById("saving-screen").style.display = "none";
});

      </script>
   </body>
</html>