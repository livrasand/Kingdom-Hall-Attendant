<!DOCTYPE html>
<html>
   <head>
      <!-- Google tag (gtag.js) -->
      {% include 'google-tag.html' %}
      
      <title>{% block title %}Kingdom Hall Attendant{% endblock %}</title>
      
      <link rel="stylesheet" href="{{ url_for('static', filename='primer.css') }}">
      <link href="{{ url_for('static', filename='jw-icons.css') }}" rel="stylesheet" />
      <link href="{{ url_for('static', filename='print-styles.css') }}" rel="stylesheet" />
      <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      
      {% block css %}{% endblock %}
   </head>
   <body>
      <!-- Header Section -->
      <div class="Header color-bg-inset">
         <div class="Header-item width-full">
            <a onclick="history.back()" style="cursor: pointer;" class="mr-2 ml-n2">
               <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                  <path d="M15.28 5.22a.75.75 0 0 1 0 1.06L9.56 12l5.72 5.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-6.25-6.25a.75.75 0 0 1 0-1.06l6.25-6.25a.75.75 0 0 1 1.06 0Z"></path>
               </svg>
            </a>
            <a href="/home" style="cursor: pointer;" class="mr-3">
               <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 24" width="24" height="24">
                  <path d="M11.03 2.59a1.501 1.501 0 0 1 1.94 0l7.5 6.363a1.5 1.5 0 0 1 .53 1.144V19.5a1.5 1.5 0 0 1-1.5 1.5h-5.75a.75.75 0 0 1-.75-.75V14h-2v6.25a.75.75 0 0 1-.75.75H4.5A1.5 1.5 0 0 1 3 19.5v-9.403c0-.44.194-.859.53-1.144ZM12 3.734l-7.5 6.363V19.5h5v-6.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v6.25h5v-9.403Z"></path>
               </svg>
            </a>
            <img class="avatar CircleBadge" height="100" alt="@octocat" src="{{ url_for('identicon') }}" width="100">
            <div class="d-table col-12">
               {% include 'user_info.html' %}
            </div>
         </div>
      </div>

      <!-- Main Content Section -->
      <div class="container-xl mt-0 width-full">
         <div class="pl-2">
            <div class="container-xl clearfix">
               {% block content %}
               <!-- Contenido específico de cada página aquí -->
               {% endblock %}
            </div>
         </div>
      </div>

      <!-- Common Scripts and Modals -->
      {% block scripts %}
      <script type="text/javascript">
         // Scripts base comunes
         function imprimirPagina() {
            document.getElementById("header-page").style.visibility = "visible";
            window.print();
            document.getElementById("header-page").style.visibility = "hidden";
         }

         // Inicialización de fecha
         var fechaActual = new Date();
         var opcionesFecha = { year: 'numeric', month: 'numeric', day: 'numeric' };
         var fechaFormateada = fechaActual.toLocaleDateString('es-ES', opcionesFecha);
         document.getElementById("fecha").innerText = fechaFormateada;
      </script>

      <!-- Modal Structure -->
      <div class="Overlay" id="eventModal" style="display: none;">
         <!-- Contenido del modal aquí -->
      </div>
      {% endblock %}

      <!-- Additional Styles -->
      <style>
         /* Estilos base comunes */
         .Overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            align-items: center;
            justify-content: center;
            background-color: rgba(0,0,0,0.5);
            z-index: 9999;
         }

         @media (max-width: 768px) {
            .calendar-cell {
               min-height: 150px !important;
            }
            .Box-title span {
               font-size: 14px;
            }
         }
      </style>
   </body>
</html>